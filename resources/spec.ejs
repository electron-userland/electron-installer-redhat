%define _binary_payload w<%= compressionLevel %>.xzdio

Name: <%= name %>
Version: <%= version %>
Release: <%= revision %>%{?dist}
<% if (description) { %>Summary: <%= description %><% } %>

<% if (license) { %>License: <%= license %><% } %>
<% if (homepage) { %>URL: <%= homepage %><% } %>

Requires: <%= requires.join(', ') %>
AutoReqProv: no


<% if (productDescription) {
  %>%description
<%= productDescription %><% } %>


%install
mkdir -p %{buildroot}/usr/
<%= process.platform === 'darwin' ? 'cp -R usr/* %{buildroot}/usr/' : 'cp -r usr/* %{buildroot}/usr/' %>


%files
/usr/bin/<%= name %>
/usr/lib/<%= name %>/
/usr/share/applications/<%= name %>.desktop
/usr/share/doc/<%= name %>/
<% if (_.isObject(icon)) {
  _.forEach(icon, function (path, resolution) {
    %>/usr/share/icons/hicolor/<%= resolution %>/apps/<%= name %><%= resolution === 'symbolic' ? '-symbolic' : '' %>.<%= ['scalable', 'symbolic'].includes(resolution) ? 'svg' : 'png' %>
<% }) } else {
  %>/usr/share/pixmaps/<%= name %>.png
<% } %>

<% if (pre) {
  %>%pre
<%= pre %><% } %>


<% if (preun) {
  %>%preun
<%= preun %><% } %>


<% if (post) {
  %>%post
<%= post %><% } %>


<% if (postun) {
  %>%postun
<%= postun %><% } %>
